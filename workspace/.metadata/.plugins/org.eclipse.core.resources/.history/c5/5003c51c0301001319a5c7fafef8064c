package controller;

import java.awt.Component;
import java.awt.event.*;
import java.io.File;

import javax.swing.JFileChooser;

public class Controller {
    
	private model.Model theModel;
    private view.View  theView;
    
    public Controller(model.Model model, view.View view) {
        this.theModel = model;
        this.theView  = view;
        
        theView.addLoadPeaksListener(new LoadPeaksListener());
        theView.addDisplayPeakPlotsListener(new DisplayPeakPlotsListener());
    }

    class LoadPeaksListener implements ActionListener {
    	public void actionPerformed(ActionEvent e) {
    		final JFileChooser fc = new JFileChooser();
    		int returnVal = fc.showOpenDialog((Component) e.getSource());
    		if (returnVal == JFileChooser.APPROVE_OPTION) {
                File file = fc.getSelectedFile();
                theView.displayPeakList(theModel.loadPeaks(file));
    		}
    	}
    }
    
    class DisplayPeakPlotsListener implements ActionListener {
    	public void actionPerformed(ActionEvent e) {
    		int[] selected = theView.getLinkFrame().getPeakTable().getSelectedRows();
    		theModel.getPeakStore.
    	}
    }
//    class MultiplyListener implements ActionListener {
//        public void actionPerformed(ActionEvent e) {
//            String userInput = "";
//            try {
//                userInput = m_view.getUserInput();
//                m_model.multiplyBy(userInput);
//                m_view.setTotal(m_model.getValue());
//                
//            } catch (NumberFormatException nfex) {
//                m_view.showError("Bad input: '" + userInput + "'");
//            }
//        }
//    }
    
    
    
//    class ClearListener implements ActionListener {
//        public void actionPerformed(ActionEvent e) {
//            m_model.reset();
//            m_view.reset();
//        }
//    }
}